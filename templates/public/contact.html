{% extends 'public/base.html' %}
{% load static %}

{% block title %}Contact - Edtia{% endblock %}

{% block meta_description %}Contactez l'équipe Edtia pour toute question concernant notre solution d'optimisation des emplois du temps éducatifs. Support technique, commercial et partenariat.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-gradient text-white py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">
            Contactez-nous
        </h1>
        <p class="text-xl text-blue-100 mb-8">
            Notre équipe est là pour vous accompagner dans votre transformation digitale éducative
        </p>
    </div>
</section>

<!-- Formulaire de contact -->
<section class="py-20 bg-gray-50">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
            <!-- Formulaire -->
            <div class="bg-white p-8 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">
                    Envoyez-nous un message
                </h2>
                
                <form id="contact-form" class="space-y-6">
                    {% csrf_token %}
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="nom" class="block text-sm font-medium text-gray-700 mb-2">Nom *</label>
                            <input 
                                type="text" 
                                id="nom" 
                                name="nom" 
                                required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                placeholder="Votre nom"
                            >
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                            <input 
                                type="email" 
                                id="email" 
                                name="email" 
                                required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                placeholder="votre@email.com"
                            >
                        </div>
                    </div>
                    
                    <div>
                        <label for="telephone" class="block text-sm font-medium text-gray-700 mb-2">Téléphone</label>
                        <input 
                            type="tel" 
                            id="telephone" 
                            name="telephone"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            placeholder="Votre numéro de téléphone"
                        >
                    </div>
                    
                    <div>
                        <label for="sujet" class="block text-sm font-medium text-gray-700 mb-2">Sujet *</label>
                        <input 
                            type="text" 
                            id="sujet" 
                            name="sujet" 
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            placeholder="Sujet de votre message"
                        >
                    </div>
                    
                    <div>
                        <label for="type_message" class="block text-sm font-medium text-gray-700 mb-2">Type de message *</label>
                        <select 
                            id="type_message" 
                            name="type_message" 
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        >
                            <option value="">Sélectionnez...</option>
                            <option value="question_generale">Question générale</option>
                            <option value="support_technique">Support technique</option>
                            <option value="demande_commerciale">Demande commerciale</option>
                            <option value="partenariat">Partenariat</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message *</label>
                        <textarea 
                            id="message" 
                            name="message"
                            rows="5"
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            placeholder="Décrivez votre demande en détail..."
                        ></textarea>
                    </div>
                    
                    <button 
                        type="submit"
                        class="w-full bg-blue-600 text-white py-4 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-colors"
                    >
                        <i data-lucide="send" class="inline-block mr-2"></i>
                        Envoyer le message
                    </button>
                </form>
            </div>
            
            <!-- Informations de contact -->
            <div class="space-y-8">
                <div class="bg-white p-8 rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">
                        Nos coordonnées
                    </h3>
                    <div class="space-y-6">
                        <div class="flex items-start">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                                <i data-lucide="mail" class="text-blue-600"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-900">Email</h4>
                                <p class="text-gray-600">contact@edtia.fr</p>
                                <p class="text-gray-600">support@edtia.fr</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                                <i data-lucide="phone" class="text-green-600"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-900">Téléphone</h4>
                                <p class="text-gray-600">+33 1 23 45 67 89</p>
                                <p class="text-gray-600 text-sm">Lun-Ven 9h-18h</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4">
                                <i data-lucide="map-pin" class="text-purple-600"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-900">Adresse</h4>
                                <p class="text-gray-600">
                                    123 Avenue de l'Éducation<br>
                                    75001 Paris, France
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-8 rounded-xl border border-blue-100">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">
                        Horaires d'ouverture
                    </h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-gray-700">Lundi - Vendredi</span>
                            <span class="font-semibold text-gray-900">9h00 - 18h00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-700">Samedi</span>
                            <span class="font-semibold text-gray-900">10h00 - 16h00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-700">Dimanche</span>
                            <span class="font-semibold text-gray-900">Fermé</span>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 mt-4">
                        Support technique disponible 24/7 pour les clients
                    </p>
                </div>
                
                <div class="bg-white p-8 rounded-xl shadow-lg">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">
                        Autres moyens de contact
                    </h3>
                    <div class="space-y-4">
                        <a href="{% url 'public:demo' %}" class="flex items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors">
                            <i data-lucide="calendar" class="text-blue-600 mr-4"></i>
                            <div>
                                <h4 class="font-semibold text-gray-900">Demander une démo</h4>
                                <p class="text-gray-600 text-sm">Découvrez Edtia en 30 minutes</p>
                            </div>
                        </a>
                        
                        <a href="#" class="flex items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors">
                            <i data-lucide="message-circle" class="text-green-600 mr-4"></i>
                            <div>
                                <h4 class="font-semibold text-gray-900">Chat en direct</h4>
                                <p class="text-gray-600 text-sm">Disponible en semaine 9h-18h</p>
                            </div>
                        </a>
                        
                        <a href="#" class="flex items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors">
                            <i data-lucide="book-open" class="text-purple-600 mr-4"></i>
                            <div>
                                <h4 class="font-semibold text-gray-900">Centre d'aide</h4>
                                <p class="text-gray-600 text-sm">Documentation et FAQ</p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ -->
<section class="py-20 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-gray-900 mb-6">
                Questions fréquentes
            </h2>
            <p class="text-xl text-gray-600">
                Trouvez rapidement les réponses à vos questions
            </p>
        </div>
        
        <div class="space-y-6">
            <div class="bg-gray-50 p-6 rounded-xl">
                <h3 class="text-lg font-semibold text-gray-900 mb-3">
                    Comment fonctionne l'optimisation IA d'Edtia ?
                </h3>
                <p class="text-gray-600">
                    Notre IA utilise des algorithmes de résolution de contraintes pour analyser tous les paramètres 
                    (enseignants, salles, matières, contraintes légales) et générer automatiquement des emplois du temps optimaux.
                </p>
            </div>
            
            <div class="bg-gray-50 p-6 rounded-xl">
                <h3 class="text-lg font-semibold text-gray-900 mb-3">
                    Combien de temps faut-il pour migrer depuis notre système actuel ?
                </h3>
                <p class="text-gray-600">
                    La migration dépend de la complexité de votre établissement. En moyenne, comptez 2-4 semaines 
                    pour un établissement de taille moyenne, avec un accompagnement complet de notre équipe.
                </p>
            </div>
            
            <div class="bg-gray-50 p-6 rounded-xl">
                <h3 class="text-lg font-semibold text-gray-900 mb-3">
                    Edtia est-il conforme au RGPD ?
                </h3>
                <p class="text-gray-600">
                    Oui, Edtia est entièrement conforme au RGPD. Nous avons mis en place toutes les mesures 
                    nécessaires pour protéger les données personnelles et respecter la réglementation européenne.
                </p>
            </div>
            
            <div class="bg-gray-50 p-6 rounded-xl">
                <h3 class="text-lg font-semibold text-gray-900 mb-3">
                    Proposez-vous une formation pour les utilisateurs ?
                </h3>
                <p class="text-gray-600">
                    Oui, nous proposons une formation complète incluant des sessions en ligne, 
                    de la documentation détaillée et un support dédié pour faciliter l'adoption.
                </p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('contact-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const data = Object.fromEntries(formData);
    
    fetch('{% url "public:api_contact" %}', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert(data.message);
            document.getElementById('contact-form').reset();
        } else {
            alert(data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Une erreur est survenue. Veuillez réessayer.');
    });
});
</script>
{% endblock %}

